(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,a){e.exports=a(52)},25:function(e,t,a){},26:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),s=a.n(r),l=(a(25),a(26),function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("h1",null,"by Grigor Abrahamyan"))}),o=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"Typing Speed (WPM) and Accuracy"))},u=a(4),i=a(3),m=a.n(i),p=a(6),d=a(2),f=a(17),E=a.n(f);var b=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement(E.a,{type:"Oval",color:"#4CCCC9",height:100,width:100}))},h=function(e){return function(t){t(function(e){return{type:"CHANGE_PERIOD",payload:e}}(e))}},v=function(e,t,a){return function(n){n({type:"FIX_ENDTIME_MAINSTR",payload:{endTime:e,str:t,currentStr:a}})}},j=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),o=l[0],i=l[1],f=Object(n.useState)(""),E=Object(d.a)(f,2),j=E[0],O=E[1],g=Object(n.useState)(""),N=Object(d.a)(g,2),_=N[0],y=N[1],S=Object(n.useState)(""),w=Object(d.a)(S,2),G=w[0],x=w[1],T=Object(n.useState)([]),A=Object(d.a)(T,2),C=A[0],M=A[1],k=Object(n.useState)(null),I=Object(d.a)(k,2),W=I[0],P=I[1],R=Object(n.useState)(!1),H=Object(d.a)(R,2),L=H[0],F=H[1],D=Object(u.c)((function(e){return e})),J=D.timer,B=D.wrongStep,U=Object(u.b)();Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a[0],t=null===e||void 0===e?void 0:e.replace(/\..{1}/g,".");M(t),P(null===t||void 0===t?void 0:t.length)}),[a]);var q=Object(n.useMemo)((function(){var e=0,t=0;return J%60?(e="0".concat((J-J%60)/60),t=J%60<10?"0".concat(J%60):"".concat(J%60)):(e="0".concat(J/60),t="00"),{m:e,s:t}}),[J]);return Object(n.useEffect)((function(){o.length?C.includes(o)&&C[0]===o[0]?o[o.length-1]===C[o.length-1]&&(x(C.slice(o.length)),y(o),O("")):o.length<j.length+_.length?(O(j.slice(0,j.length-1)),x(C.slice(o.length))):(U(function(e){return function(t){t(function(e){return{type:"CHANGE_WRONG",payload:e}}(e))}}(B+1)),O(j+C.substr(o.length-1,1)),y(o.slice(0,o.length-j.length-1)),x(C.slice(o.length))):(x(C),y(""),O(""))}),[C,o]),Object(n.useEffect)((function(){try{Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,fetch("https://baconipsum.com/api/?type=all-meat&paras=2&start-with-lorem=1");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r(a),F(!1);case 9:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){return U(function(e){return function(t){t(function(e){return{type:"CHNAGE_TIMER",payload:e}}(e))}}(J-1))}),1e3);if(0===J)return clearTimeout(e)}),[J]),Object(n.useEffect)((function(){o.length!==W||j.length||(U(h("end")),U(v(J,W,o.length))),0===J&&(U(h("end")),U(v(0,W,o.length)))}),[o,j,J]),c.a.createElement("section",{className:"container"},c.a.createElement("div",{className:"container__wrapper"},c.a.createElement("div",{className:"wrapper__timer__wrong"},c.a.createElement("div",{className:"same wrong"},c.a.createElement("p",null,"Wrong Step"),c.a.createElement("p",null,B)),c.a.createElement("div",{className:"same timer"},c.a.createElement("p",null,"Timer"),c.a.createElement("p",null,"".concat(q.m,"m : ").concat(q.s,"s")))),c.a.createElement("div",{className:"text text__fetch"},L?c.a.createElement(b,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"true__str"},_),c.a.createElement("span",{className:"wrong__str"},j),c.a.createElement("span",{className:"current__str"},G))),c.a.createElement("div",{className:"text text__correct"},c.a.createElement("div",null,c.a.createElement("textarea",{className:"text__textarea",onChange:function(e){return i(e.target.value)},value:o})))))},O=a(11),g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!0),l=Object(d.a)(s,2),o=l[0],u=l[1];return Object(n.useEffect)((function(){Object(p.a)(m.a.mark((function e(){var t,a,n,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,Array.isArray(a)||(a=[a]),n=a.map((function(e){return fetch(e.uri)})),e.next=11,Promise.all(n);case 11:return c=e.sent,e.next=14,Promise.all(c.map((function(e){return e.json()})));case 14:s=e.sent,(l=Object(O.a)(s)).length>10&&(l=l.slice(0,10)),r(l),u(!1),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))()}),[]),o?c.a.createElement(b,null):c.a.createElement("div",{className:"startGame__wrapperUsers"},null===a||void 0===a?void 0:a.map((function(e,t){return c.a.createElement("div",{key:t,className:"startGame__user"},c.a.createElement("p",null,"".concat(e.firstName," ").concat(e.lastName)),c.a.createElement("p",null,"WPM: ".concat(e.netWPM)),c.a.createElement("p",null,"Accurancy: ".concat(e.accuracy,"%")))})))},N=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),o=l[0],i=l[1],m=Object(u.b)(),p=Object(n.useCallback)((function(){a.length&&o.length?(m(h("middle")),m(function(e,t){return function(a){a({type:"CHANGE_NAMES",payload:{name:e,lastName:t}})}}(a,o))):document.querySelector(".lessInput").classList.toggle("showMassage")}),[a,o]),f=Object(n.useCallback)((function(){document.querySelector(".lessInput").classList.remove("showMassage")}),[]);return c.a.createElement("section",{className:"container startGame"},c.a.createElement("div",{className:"startGame__titleWrapper"},c.a.createElement("h1",{className:"startGame__title"},"It\u2019s like a game where you can understand how fast you can type and how accurately")),c.a.createElement(g,null),c.a.createElement("div",{className:"lessInput"},c.a.createElement("p",null,"Please fill all fields")),c.a.createElement("div",{className:"startGame__nameSpace"},c.a.createElement("div",{className:"startGame__wrapperInput"},c.a.createElement("input",{type:"text",value:a,placeholder:"First Name",onFocus:f,onChange:function(e){return r(e.target.value)}})),c.a.createElement("div",{className:"startGame__wrapperInput"},c.a.createElement("input",{type:"text",value:o,placeholder:"Last Name",onFocus:f,onChange:function(e){return i(e.target.value)}}))),c.a.createElement("div",{className:"startGame__wrapperButton"},c.a.createElement("div",{className:"startGame__button"},c.a.createElement("button",{onClick:p},"START THE GAME"))))},_=function(){var e=Object(u.c)((function(e){return e})),t=e.endTime,a=e.firstName,r=e.lastName,s=e.wrongStep,l=e.mainStrLength,o=e.currentStr,i=Object(n.useState)({}),f=Object(d.a)(i,2),E=f[0],b=f[1],v=Object(n.useState)(""),j=Object(d.a)(v,2),g=j[0],N=j[1],_=Object(n.useState)({}),y=Object(d.a)(_,2),S=y[0],w=y[1],G=Object(u.b)(),x=Object(n.useMemo)((function(){return Math.round(l/5/((180-t)/60))-s}),[l,t,s]),T=Object(n.useMemo)((function(){return l-o<0?0:Math.round(100*(o-(l-o)-s)/l)}),[l,o,s]),A=Object(n.useCallback)((function(e,t,a,n){var c={firstName:e,lastName:t,netWPM:a,accuracy:n},r={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json; charset=utf-8"}};try{Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items",r);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,b(a);case 7:case"end":return e.stop()}}),e)})))()}catch(s){console.log(s,"error massage")}}),[E]);return Object(n.useEffect)((function(){try{Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,w(a);case 7:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}),[g]),Object(n.useEffect)((function(){if(E.uri){var e=[];e=Array.isArray(S)?[E].concat(Object(O.a)(S)):[E];var t={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=utf-8"}};try{Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0",t);case 2:return a=e.sent,e.next=5,a.json();case 5:"https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0"!==e.sent.uri?N("Something went wrong!"):N("Your result has been saved!");case 7:case"end":return e.stop()}}),e)})))()}catch(a){console.log(a,"error massage")}}}),[E]),Object(n.useEffect)((function(){g.length&&document.addEventListener("click",(function(){return G(h("start"))}))}),[g]),c.a.createElement("section",{className:"container endGame"},c.a.createElement("div",{className:"endGame__body"},c.a.createElement("div",{className:"endGame__wrapperTitle"},c.a.createElement("h1",{className:"endGame__title"},"".concat(a," ").concat(r))),c.a.createElement("div",{className:"endGame__wrapperText"},c.a.createElement("p",{className:"endGame__text"},"Average speed in WPM: ".concat(x)),c.a.createElement("p",{className:"endGame__text"},"Completion percent: ".concat(T,"%"))),g.length?c.a.createElement("div",{className:"endGame__afterSave"},c.a.createElement("p",null,g)):null,c.a.createElement("div",{className:"endGame__saveWrapper"},c.a.createElement("div",{className:"endGame__button"},c.a.createElement("button",{onClick:function(){return A(a,r,x,T)}},"SAVE RESULT")),c.a.createElement("div",{className:"endGame__button"},c.a.createElement("button",{onClick:function(){return G(h("start"))}},"NEW GAME")))))},y=function(){var e=Object(u.c)((function(e){return e})).period;return"start"===e?c.a.createElement(N,null):"middle"===e?c.a.createElement(j,null):"end"===e?c.a.createElement(_,null):void 0};var S=function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement(o,null),c.a.createElement(y,null),c.a.createElement(l,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(7),G=a(5),x={timer:180,wrongStep:0,period:"start",firstName:"",lastName:"",endTime:null,mainStrLength:null,currentStr:null},T=a(18),A=a(19),C=Object(w.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHNAGE_TIMER":return Object(G.a)(Object(G.a)({},e),{},{timer:t.payload});case"CHANGE_WRONG":return Object(G.a)(Object(G.a)({},e),{},{wrongStep:t.payload});case"CHANGE_PERIOD":return Object(G.a)(Object(G.a)({},e),{},{period:t.payload});case"CHANGE_NAMES":var a=t.payload,n=a.name,c=a.lastName;return Object(G.a)(Object(G.a)({},e),{},{firstName:n,lastName:c});case"FIX_ENDTIME_MAINSTR":var r=t.payload,s=r.endTime,l=r.str,o=r.currentStr;return Object(G.a)(Object(G.a)({},e),{},{endTime:s,mainStrLength:l,currentStr:o});default:return e}}),Object(T.composeWithDevTools)(Object(w.applyMiddleware)(A.a)));s.a.render(c.a.createElement(u.a,{store:C},c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.a730055c.chunk.js.map