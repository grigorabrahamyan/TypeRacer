(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,a){e.exports=a(52)},25:function(e,t,a){},26:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),s=a.n(r),l=(a(25),a(26),function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("h1",null,"by Grigor Abrahamyan"))}),o=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"Typing Speed (WPM) and Accuracy"))},u=a(4),i=a(3),m=a.n(i),f=a(6),p=a(1),d=a(16),E=a.n(d);var h=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement(E.a,{type:"Oval",color:"#4CCCC9",height:100,width:100}))},b=function(e){return function(t){t(function(e){return{type:"CHANGE_PERIOD",payload:e}}(e))}},j=function(e,t,a){return function(n){n({type:"FIX_ENDTIME_MAINSTR",payload:{endTime:e,str:t,currentStr:a}})}},v=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),l=Object(p.a)(s,2),o=l[0],i=l[1],d=Object(n.useState)(""),E=Object(p.a)(d,2),v=E[0],O=E[1],g=Object(n.useState)(""),N=Object(p.a)(g,2),_=N[0],y=N[1],w=Object(n.useState)(""),S=Object(p.a)(w,2),G=S[0],x=S[1],T=Object(n.useState)([]),A=Object(p.a)(T,2),C=A[0],M=A[1],k=Object(n.useState)(null),I=Object(p.a)(k,2),W=I[0],P=I[1],R=Object(n.useState)(!1),H=Object(p.a)(R,2),L=H[0],F=H[1],D=Object(u.c)((function(e){return e})),J=D.timer,B=D.wrongStep,U=Object(u.b)();Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a[0],t=null===e||void 0===e?void 0:e.replace(/\..{1}/g,".");M(t),P(null===t||void 0===t?void 0:t.length)}),[a]);var q=Object(n.useMemo)((function(){var e=0,t=0;return J%60?(e="0".concat((J-J%60)/60),t=J%60<10?"0".concat(J%60):"".concat(J%60)):(e="0".concat(J/60),t="00"),{m:e,s:t}}),[J]);return Object(n.useEffect)((function(){o.length?C.includes(o)&&C[0]===o[0]?o[o.length-1]===C[o.length-1]&&(x(C.slice(o.length)),y(o),O("")):o.length<v.length+_.length?(O(v.slice(0,v.length-1)),x(C.slice(o.length))):(U(function(e){return function(t){t(function(e){return{type:"CHANGE_WRONG",payload:e}}(e))}}(B+1)),O(v+C.substr(o.length-1,1)),y(o.slice(0,o.length-v.length-1)),x(C.slice(o.length))):(x(C),y(""),O(""))}),[C,o]),Object(n.useEffect)((function(){try{Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,fetch("https://baconipsum.com/api/?type=all-meat&paras=2&start-with-lorem=1");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r(a),F(!1);case 9:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){return U(function(e){return function(t){t(function(e){return{type:"CHNAGE_TIMER",payload:e}}(e))}}(J-1))}),1e3);if(0===J)return clearTimeout(e)}),[J]),Object(n.useEffect)((function(){o.length!==W||v.length||(U(b("end")),U(j(J,W,o.length))),0===J&&(U(b("end")),U(j(0,W,o.length)))}),[o,v,J]),c.a.createElement("section",{className:"container"},c.a.createElement("div",{className:"container__wrapper"},c.a.createElement("div",{className:"wrapper__timer__wrong"},c.a.createElement("div",{className:"same wrong"},c.a.createElement("p",null,"Wrong Step"),c.a.createElement("p",null,B)),c.a.createElement("div",{className:"same timer"},c.a.createElement("p",null,"Timer"),c.a.createElement("p",null,"".concat(q.m,"m : ").concat(q.s,"s")))),c.a.createElement("div",{className:"text text__fetch"},L?c.a.createElement(h,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"true__str"},_),c.a.createElement("span",{className:"wrong__str"},v),c.a.createElement("span",{className:"current__str"},G))),c.a.createElement("div",{className:"text text__correct"},c.a.createElement("div",null,c.a.createElement("textarea",{className:"text__textarea",onChange:function(e){return i(e.target.value)},value:o})))))},O=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),l=Object(p.a)(s,2),o=l[0],u=l[1],i=Object(n.useState)(!1),d=Object(p.a)(i,2),E=d[0],b=d[1];return Object(n.useEffect)((function(){try{Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r(a),b(!1);case 9:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}),[]),Object(n.useEffect)((function(){if(Array.isArray(a)){var e=a.map((function(e){return fetch(e.uri)}));Promise.all(e).then((function(e){return e})).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){return u(e)})).catch((function(e){return console.log(e)}))}else try{Object(f.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch(a.uri);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,u([n]),b(!1);case 9:case"end":return e.stop()}}),e)})))()}catch(t){console.log(t)}}),[a]),E?c.a.createElement(h,null):c.a.createElement("div",{className:"startGame__wrapperUsers"},o.map((function(e,t){return c.a.createElement("div",{key:t,className:"startGame__user"},c.a.createElement("p",null,"".concat(e.firstName," ").concat(e.lastName)),c.a.createElement("p",null,"WPM: ".concat(e.netWPM)),c.a.createElement("p",null,"Accurancy: ".concat(e.accuracy,"%")))})))},g=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),l=Object(p.a)(s,2),o=l[0],i=l[1],m=Object(u.b)(),f=Object(n.useCallback)((function(){a.length&&o.length?(m(b("middle")),m(function(e,t){return function(a){a({type:"CHANGE_NAMES",payload:{name:e,lastName:t}})}}(a,o))):document.querySelector(".lessInput").classList.toggle("showMassage")}),[a,o]),d=Object(n.useCallback)((function(){document.querySelector(".lessInput").classList.remove("showMassage")}),[]);return c.a.createElement("section",{className:"container startGame"},c.a.createElement("div",{className:"startGame__titleWrapper"},c.a.createElement("h1",{className:"startGame__title"},"It\u2019s like a game where you can understand how fast you can type and how accurately")),c.a.createElement(O,null),c.a.createElement("div",{className:"lessInput"},c.a.createElement("p",null,"Please fill all fields")),c.a.createElement("div",{className:"startGame__nameSpace"},c.a.createElement("div",{className:"startGame__wrapperInput"},c.a.createElement("input",{type:"text",value:a,placeholder:"First Name",onFocus:d,onChange:function(e){return r(e.target.value)}})),c.a.createElement("div",{className:"startGame__wrapperInput"},c.a.createElement("input",{type:"text",value:o,placeholder:"Last Name",onFocus:d,onChange:function(e){return i(e.target.value)}}))),c.a.createElement("div",{className:"startGame__wrapperButton"},c.a.createElement("div",{className:"startGame__button"},c.a.createElement("button",{onClick:f},"START THE GAME"))))},N=a(19),_=function(){var e=Object(u.c)((function(e){return e})),t=e.endTime,a=e.firstName,r=e.lastName,s=e.wrongStep,l=e.mainStrLength,o=e.currentStr,i=Object(n.useState)({}),d=Object(p.a)(i,2),E=d[0],h=d[1],j=Object(n.useState)(""),v=Object(p.a)(j,2),O=v[0],g=v[1],_=Object(n.useState)({}),y=Object(p.a)(_,2),w=y[0],S=y[1],G=Object(u.b)(),x=Object(n.useMemo)((function(){return Math.round(l/5/((180-t)/60))-s}),[l,t,s]),T=Object(n.useMemo)((function(){return l-o<0?0:Math.round(100*(o-(l-o)-s)/l)}),[l,o,s]),A=Object(n.useCallback)((function(e,t,a,n){var c={firstName:e,lastName:t,netWPM:a,accuracy:n},r={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json; charset=utf-8"}};try{Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items",r);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h(a);case 7:case"end":return e.stop()}}),e)})))()}catch(s){console.log(s,"error massage")}}),[E]);return Object(n.useEffect)((function(){try{Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,S(a);case 7:case"end":return e.stop()}}),e)})))()}catch(e){console.log(e)}}),[O]),Object(n.useEffect)((function(){if(E.uri){var e=[];e=Array.isArray(w)?[E].concat(Object(N.a)(w)):[E];var t={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=utf-8"}};try{Object(f.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0",t);case 2:return a=e.sent,e.next=5,a.json();case 5:"https://jsonstorage.net/api/items/916710d9-3147-4623-a0dd-02108c2fe3f0"!==e.sent.uri?g("Something went wrong!"):g("Your result has been saved!");case 7:case"end":return e.stop()}}),e)})))()}catch(a){console.log(a,"error massage")}}}),[E]),Object(n.useEffect)((function(){O.length&&document.addEventListener("click",(function(){return G(b("start"))}))}),[O]),c.a.createElement("section",{className:"container endGame"},c.a.createElement("div",{className:"endGame__body"},c.a.createElement("div",{className:"endGame__wrapperTitle"},c.a.createElement("h1",{className:"endGame__title"},"".concat(a," ").concat(r))),c.a.createElement("div",{className:"endGame__wrapperText"},c.a.createElement("p",{className:"endGame__text"},"Average speed in WPM: ".concat(x)),c.a.createElement("p",{className:"endGame__text"},"Completion percent: ".concat(T,"%"))),O.length?c.a.createElement("div",{className:"endGame__afterSave"},c.a.createElement("p",null,O)):null,c.a.createElement("div",{className:"endGame__saveWrapper"},c.a.createElement("div",{className:"endGame__button"},c.a.createElement("button",{onClick:function(){return A(a,r,x,T)}},"SAVE RESULT")),c.a.createElement("div",{className:"endGame__button"},c.a.createElement("button",{onClick:function(){return G(b("start"))}},"NEW GAME")))))},y=function(){var e=Object(u.c)((function(e){return e})).period;return"start"===e?c.a.createElement(g,null):"middle"===e?c.a.createElement(v,null):"end"===e?c.a.createElement(_,null):void 0};var w=function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement(o,null),c.a.createElement(y,null),c.a.createElement(l,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(7),G=a(5),x={timer:180,wrongStep:0,period:"start",firstName:"",lastName:"",endTime:null,mainStrLength:null,currentStr:null},T=a(17),A=a(18),C=Object(S.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHNAGE_TIMER":return Object(G.a)(Object(G.a)({},e),{},{timer:t.payload});case"CHANGE_WRONG":return Object(G.a)(Object(G.a)({},e),{},{wrongStep:t.payload});case"CHANGE_PERIOD":return Object(G.a)(Object(G.a)({},e),{},{period:t.payload});case"CHANGE_NAMES":var a=t.payload,n=a.name,c=a.lastName;return Object(G.a)(Object(G.a)({},e),{},{firstName:n,lastName:c});case"FIX_ENDTIME_MAINSTR":var r=t.payload,s=r.endTime,l=r.str,o=r.currentStr;return Object(G.a)(Object(G.a)({},e),{},{endTime:s,mainStrLength:l,currentStr:o});default:return e}}),Object(T.composeWithDevTools)(Object(S.applyMiddleware)(A.a)));s.a.render(c.a.createElement(u.a,{store:C},c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.7b24b819.chunk.js.map